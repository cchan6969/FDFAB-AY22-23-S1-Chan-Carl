<!DOCTYPE HTML>
<html lang="en-SG">
    <head>
	    <link rel="stylesheet" href="awsm_theme_big-stone.css">
	    <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <h2 class = "header">Carl's Website</h2>
        <nav>
            <h3>Navigation</h3>
            <ul>
                <li><a href="index.html">Home</a> </li> <br>
                <li><a href="agree.html">Agreement</a> </li> <br>
                <li><a href="pcb.html">PCB Making</a> </li> <br>
                <li><a href="route.html">PCB Design</a> </li> <br>
                <li><a href="cnc.html">Large CNC</a> </li> <br>
                <li><a href="resin.html">Resin Casting</a> </li> <br>
                <li><a href="Fproj.html">Final Project Presentation</a> </li> <br>
                <li><a href="Fcnc.html">Final Project CNC</a> </li> <br>
                <li><a href="Felec.html">Final Project Electronics</a> </li> <br>
                <li><a href="Fcode.html">Final Project Coding</a> </li> <br>
            </ul>
             
        </nav>
        <div><!--article-->
            <p>
                For the electronics of this project, I have opted to use the ATTINY88, with the ULN2003N Darlington pair to drive a solenoid, at 6VDC and 300mA per solenoid. An external 12V powersupply would pass current into the 5V voltage regulator to run power into the chip and the solenoids.<br>                
                
                I had found the footprint for the ATtiny 88 eagle in Snapeda.<br>
                <img src="png cnc/88 eagle.png" width="45%"><br>
                This is also the same for the uln2003an chip.
                <img src="png cnc/uln2003an.png" width="45%"><br>
                Then importing it into my Eagles library to be used to start wiring.<br>
                <img src="png cnc/inport eagle.png" width="45%"><br>
                Eagle Libraries:
                <a href="https://www.allaboutcircuits.com/electronic-components/datasheet/ATTINY88-AU--Microchip/">Attiny88 footprint TQFP</a><br>
                <a href="https://www.snapeda.com/parts/AMS1117-3.3/Advanced%20Monolithic%20Systems/view-part/?welcome=home">AMS1117 foorprint</a><br>
                <a href="http://drazzy.com/e/eaglelibs.shtml">Dr. Azzy's Eagle Libraries, Pinhead+</a><br>
            </p>
            <hr>
            <p>
                Initial board traces:<br>
                <img src="png cnc/IMG_6838.jpg" width="45%"><br>
                I had used auto route to generate the traces, but the traces were too close together and not milled out, with other imperfection issues, thus I had decided to make another board.<br>
                There is also a big hole in the board, which is caused by using the wrong program on Mods, with me using the 2d mill instead of the 2d mill PCB, which caused the Gcode cut to be through the board, which was too deep.<br>
                Therefore, in the future I would have to check the cut depth before cutting. For the copper layer it is 0.05mm cut depth.<br>
                <img src="png cnc/traces cut depth mods.png" width="45%"><br>
            </p>
            <hr>
            <p>
                After the first attempt, I rewired the whole board by hand on Eagle.<br>
                I had renumbered the output pins of the ULN2003N and the ATTINY88 pins to be aligned physically. This will ensure a cleaner flow of lines rather than the criss cross lines of the first board.<br>
                The board schmetics:<br>
                <img src="final project/png/schmetics.png" width="45%"><br>
                <img src="final project/png/board placement.png" width="45%"><br>
                <a href="final project/eagle/music bord.brd">Final music board design</a><br>
                <a href="final project/eagle/music bord.sch">Final music board schmetics</a><br>
                Tapping board onto the machine
                <img src="png cnc/IMG_6909.jpg" width="45%"><br>
                Final board traces
                <img src="png cnc/IMG_6957.jpg" width="45%"><br>
                My sizing of the holes were wrong, thus resulting in a circle profile cut instead of a drill operation.<br>
                <img src="png cnc/IMG_6934.jpg" width="45%"><br>
                Thus we had to use a manual bench drill to create a small hole in the board.
                <img src="png cnc/IMG_6935.jpg" width="45%"><br>
                Hot air reflow soldering of chips
                <img src="png cnc/IMG_6972.jpg" width="45%"><br>
                Final soldered board
                <img src="png cnc/IMG_6974.jpg" width="45%"><br>
                Soldered wire wrapping wires underboard
                <img src="png cnc/IMG_6975.jpg" width="45%"><br>
                Some issues with my reflow soldering is that after the operation the channels between the traces had little balls of solder in them, thus creating a possibility of shorting.
                <img src="png cnc/IMG_6971.jpg" width="45%"><br>
            </p>
            <hr>
            <p>
                Some issues I had found was that the ATTINY88 chips I had bought from China were all faulty, thus all were not able to be connected.<br>
                <img src="png cnc/IMG_6976.jpg" width="45%"><br>
                Using Avrdude to double check the signal sent by the chip, it displays no power and the chip still did not connect.<br>
                <img src="png cnc/IMG_6977.jpg" width="45%"><br>
            </p>
            <hr>
            <p>
                Thus I had made a new downscaled board using the ATTINNY1614, focusing on a proof of concept with 3 solenoids. <br>
                <img src="png cnc/New folder/IMG_7039.png" width="45%"><br>
                However, the solenoids that I had bought had wrong ratings, using 1.2A current over the labeled 300mA.<br>
                The ULN2003N chip could only suppport 500mA, so a 1.2A current would not run through it. <br>
                During the process of testing the board using a DC variable powersupply, I overvolted the board, resulting in frying the ATTINY1614 chip.<br>
                <img src="png cnc/New Folder/IMG_7040.png" width="45%"><br>
            </p>
            <hr>
            <p>
                At the end, I have used an Arduino Uno as a proof of concept board.<br>
                Using a 12v relay to test concept of using relays to run the high current requirment.<br>
                <img src="png cnc/New folder/IMG_7049.jpg" width="45%"><br> 
                Using 3 5v relays to run into the arduino to run 1.2A current to power the solenoid.<br>
                <iframe width="560" height="315" src="png cnc/IMG_7053.MOV.mp4" frameborder="0" allowfullscreen muted></iframe><br>
            </p>
        </div>
    </body>   
</html> 
